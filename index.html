<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Jarvis Hindi AI</title>

<style>
body{
  margin:0;
  background:#05070c;
  font-family:Arial;
  color:#00eaff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
#jarvis{text-align:center;}
.circle{
  width:220px;height:220px;border-radius:50%;
  border:3px solid #00eaff;
  box-shadow:0 0 30px #00eaff;
  display:flex;align-items:center;justify-content:center;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 15px #00eaff;}
  50%{box-shadow:0 0 40px #00eaff;}
  100%{box-shadow:0 0 15px #00eaff;}
}
button{
  margin-top:20px;
  padding:12px 25px;
  background:#00eaff;
  border:none;
  font-size:16px;
  cursor:pointer;
  border-radius:6px;
}
#log{margin-top:15px;color:#fff;font-size:14px;}
</style>
</head>

<body>
<div id="jarvis">
  <div class="circle" id="status">SYSTEM ONLINE</div>
  <button onclick="startJarvis()">üé§ ‡§ú‡§æ‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§¨‡•ã‡§≤‡•ã</button>
  <div id="log"></div>
</div>

<script>
/* ========= CONFIG ========= */
const OPENAI_API_KEY = "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";

/* ========= VOICE ========= */
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
const recognition = new SpeechRecognition();
recognition.lang = "hi-IN";

function speak(text){
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "hi-IN";
  msg.rate = 1;
  speechSynthesis.speak(msg);
}

function startJarvis(){
  document.getElementById("status").innerText = "‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...";
  recognition.start();
}

recognition.onresult = function(e){
  const text = e.results[0][0].transcript;
  document.getElementById("log").innerText = "‡§§‡•Å‡§Æ: " + text;
  document.getElementById("status").innerText = "‡§∏‡•ã‡§ö ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...";
  processCommand(text);
};

/* ========= COMMAND + CHATGPT ========= */
async function processCommand(cmd){

  if(cmd.includes("‡§Ø‡•Ç‡§ü‡•ç‡§Ø‡•Ç‡§¨")){
    speak("‡§Ø‡•Ç‡§ü‡•ç‡§Ø‡•Ç‡§¨ ‡§ñ‡•ã‡§≤ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å");
    window.open("https://youtube.com","_blank");
    reset();
    return;
  }

  if(cmd.includes("‡§∏‡§Æ‡§Ø")){
    speak("‡§Ö‡§≠‡•Ä ‡§∏‡§Æ‡§Ø ‡§π‡•à " + new Date().toLocaleTimeString("hi-IN"));
    reset();
    return;
  }

  // ChatGPT fallback
  const response = await fetch("https://api.openai.com/v1/chat/completions",{
    method:"POST",
    headers:{
      "Content-Type":"application/json",
      "Authorization":"Bearer " + OPENAI_API_KEY
    },
    body:JSON.stringify({
      model:"gpt-4o-mini",
      messages:[
        {role:"system",content:"‡§§‡•Å‡§Æ ‡§ú‡§æ‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§π‡•ã‡•§ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç, ‡§õ‡•ã‡§ü‡§æ ‡§î‡§∞ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•ã‡•§"},
        {role:"user",content:cmd}
      ]
    })
  });

  const data = await response.json();
  const reply = data.choices[0].message.content;

  speak(reply);
  reset();
}

function reset(){
  document.getElementById("status").innerText = "SYSTEM ONLINE";
}
</script>
</body>
</html>
